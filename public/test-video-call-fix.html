<!DOCTYPE html>
<html>
<head>
    <title>Test Video Call Fix</title>
</head>
<body>
    <h1>Test Video Call Function Fix</h1>
    
    <button id="video-call-btn" style="background: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-size: 16px;">
        üì∑ Test Video Call
    </button>
    
    <div id="video-chat-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; justify-content: center; align-items: center;">
        <div style="background: white; padding: 20px; border-radius: 10px; text-align: center;">
            <h3>Video Chat Modal</h3>
            <p>This is a test modal to verify the function works.</p>
            <button onclick="closeTestModal()" style="background: #dc3545; color: white; padding: 5px 10px; border: none; border-radius: 3px;">Close</button>
        </div>
    </div>
    
    <div id="debug-info" style="margin-top: 20px; padding: 10px; background: #f8f9fa; border-radius: 5px;"></div>
    
    <script>
        // Test the same approach as in the main file
        console.log('üîß Testing video call function definition...');
        
        // Define the function
        window.openVideoChat = function() {
            console.log('üé• Opening video chat...');
            const modal = document.getElementById('video-chat-modal');
            if (modal) {
                modal.style.display = 'flex';
                console.log('‚úÖ Modal displayed successfully');
            } else {
                console.error('Video chat modal not found');
                alert('Video chat is not available.');
            }
        };
        
        window.closeTestModal = function() {
            const modal = document.getElementById('video-chat-modal');
            if (modal) {
                modal.style.display = 'none';
                console.log('‚úÖ Modal closed successfully');
            }
        };
        
        // Add event listener
        document.addEventListener('DOMContentLoaded', function() {
            const videoCallBtn = document.getElementById('video-call-btn');
            const debugInfo = document.getElementById('debug-info');
            
            if (videoCallBtn) {
                videoCallBtn.addEventListener('click', function() {
                    console.log('üé• Video call button clicked via event listener');
                    if (typeof window.openVideoChat === 'function') {
                        window.openVideoChat();
                        debugInfo.innerHTML = '<p style="color: green;">‚úÖ Video call function works! Modal should be visible.</p>';
                    } else {
                        console.error('openVideoChat function not available');
                        debugInfo.innerHTML = '<p style="color: red;">‚ùå openVideoChat function not available</p>';
                    }
                });
                console.log('‚úÖ Video call button event listener added');
                debugInfo.innerHTML = '<p style="color: blue;">‚ÑπÔ∏è Event listener added. Click the button to test.</p>';
            }
            
            // Test function availability
            if (typeof window.openVideoChat === 'function') {
                console.log('‚úÖ openVideoChat function is available');
                debugInfo.innerHTML += '<p style="color: green;">‚úÖ openVideoChat function is defined and available</p>';
            } else {
                console.error('‚ùå openVideoChat function is NOT available');
                debugInfo.innerHTML += '<p style="color: red;">‚ùå openVideoChat function is NOT defined</p>';
            }
        });
    </script>
</body>
</html>
